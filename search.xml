<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Webpack学习教程]]></title>
      <url>http://blog.runningcoder.me/learn-webpack.html</url>
      <content type="html"><![CDATA[<blockquote>
<p>随着React的大火，webpack现在也越来越火了，网上已经有很多很好的教材，不过我在跟着这些教材学习的时候也遇到了一些小问题，下面根据我学习过程中的实际情况，总结一篇教程，希望能帮助到学习过程中遇到同样问题的你。废话不多说，开整~~!</p>
</blockquote>
<a id="more"></a>
<p><img src="http://7xlt2a.com1.z0.glb.clouddn.com/blog/what-is-webpack.png" alt="what is webpack"></p>
<h2 id="什么是webpack"><a href="#什么是webpack" class="headerlink" title="什么是webpack"></a>什么是webpack</h2><p>如上图所示，webpack是一个模块打包工具，它把有依赖关系的各种文件（例如：js，css，图片等）打包成一系列的静态资源来使用。</p>
<h2 id="Webpack用来干什么"><a href="#Webpack用来干什么" class="headerlink" title="Webpack用来干什么"></a>Webpack用来干什么</h2><p>上面说了Webpack是一个模块加载器，所以它和市面上已经存在的模块管理和打包工具在功能上是比较类似的，那么为什么要重复造这个轮子呢？</p>
<p>目前市面上已经存在的模块管理和打包工具并不适合大型的项目，这些已有的模块化工具并不能很好的完成如下的目标：</p>
<ul>
<li>将依赖树拆分成按需加载的块</li>
<li>初始化加载的耗时尽量少</li>
<li>各种静态资源都可以视作模块</li>
<li>将第三方库整合成模块的能力</li>
<li>可以自定义打包逻辑的能力</li>
<li>适合大项目，无论是单页还是多页的 Web 应用</li>
</ul>
<p>为了解决上面的问题，Webpack应运而生。</p>
<h2 id="Webpack-的特点"><a href="#Webpack-的特点" class="headerlink" title="Webpack 的特点"></a>Webpack 的特点</h2><p>Webpack 和其他模块化工具的区别主要体现在以下几个方面</p>
<h3 id="代码拆分"><a href="#代码拆分" class="headerlink" title="代码拆分"></a>代码拆分</h3><p>Webpack 有两种组织模块依赖的方式，同步和异步。异步依赖作为分割点，形成一个新的块。在优化了依赖树后，每一个异步区块都作为一个文件被打包。</p>
<h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>Webpack 本身只能处理原生的 <code>JavaScript</code> 模块，但是 <code>loader</code> 转换器可以将各种类型的资源转换成 <code>JavaScript</code> 模块。这样，任何资源都可以成为 Webpack 可以处理的模块。</p>
<h3 id="智能解析"><a href="#智能解析" class="headerlink" title="智能解析"></a>智能解析</h3><p>Webpack 有一个智能解析器，几乎可以处理任何第三方库，无论它们的模块形式是 <code>CommonJS</code>、 <code>AMD</code> 还是普通的 <code>JS</code> 文件。甚至在加载依赖的时候，允许使用动态表达式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">"./templates/"</span> + name + <span class="string">".jade"</span>)</div></pre></td></tr></table></figure></p>
<h3 id="插件系统"><a href="#插件系统" class="headerlink" title="插件系统"></a>插件系统</h3><p>Webpack 还有一个功能丰富的插件系统。大多数内容功能都是基于这个插件系统运行的，还可以开发和使用开源的 Webpack 插件，来满足各式各样的需求。</p>
<h2 id="模块系统"><a href="#模块系统" class="headerlink" title="模块系统"></a>模块系统</h2><p>如果你之前没接触过这类模块加载器，那么在介绍他的用法之前，还是有必要简单了解一下前端模块化的进化史（如果你对这些已经有所了解，可以通过菜单列表跳转到后面的内容阅读）。</p>
<h3 id="script标签"><a href="#script标签" class="headerlink" title="script标签"></a>script标签</h3><p>早期我们在没有模块加载器，甚至还没有产生前端模块化开发的理念的时候，所有的JavaScript代码都写在一个<code>.js</code>文件中。后来，由于代码越来越多，一个文件很难去管理和维护，于是我们开始把一些功能拆分出来，分别写在不同的<code>.js</code>文件中。这时就产生了模块化开发的理念。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"library1.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"module1.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"modelu2.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这种方式有很多的弊端，比如：</p>
<ul>
<li>变量容易冲突</li>
<li>加载顺序只能按照从上到下的书写顺序加载，对存在依赖关系的库，在加载顺序上要保持正确</li>
<li>在大型项目中随着加载的库越来越多，使得开发人员对这些库的管理变得越来越难。</li>
</ul>
<p>随着模块化开发的概念越来越普及，为了能够让大家更加方便的加载各种模块，因此需要统一一套标准来规范模块的编写。目前最主流的两套JavaScript模板规范分别是：CommonJS和AMD。</p>
<h3 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h3><p>官方<code>JavaScript</code>标准定义的API是为了构建基于浏览器的应用程序。然而，并没有定于一个用于更广泛的应用程序的标准库。</p>
<p><code>CommonJS API</code>定义很多普通应用程序（主要指非浏览器的应用）使用的API，从而填补了这个空白。它的终极目标是提供一个类似Python，Ruby和Java标准库。这样的话，开发者可以使用CommonJS API编写应用程序，然后这些应用可以运行在不同的JavaScript解释器和不同的主机环境中。现在异常火爆的Node.js就是CommonJS的一个实现。</p>
<p>根据CommonJS规范，一个单独的文件就是一个模板。加载模块使用<code>require</code>方法，该方法读取一个文件并执行，最后返回文件内部的<code>exports</code>对象。下面是一个简单的模块文件<code>math.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">exports.add = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>, i = <span class="number">0</span>, args = <span class="built_in">arguments</span>; len = args.length;</div><div class="line">    <span class="keyword">while</span> (i &lt; len) &#123;</div><div class="line">        sum += args[i++];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sum;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>使用<code>require</code>方法，加载<code>math.js</code>，这时变量<code>obj</code>就等于<code>math.js</code>模块中<code>exports</code>对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = <span class="built_in">require</span>(<span class="string">'./math.js'</span>);</div><div class="line">obj.add(<span class="number">2</span>,<span class="number">3</span>);</div></pre></td></tr></table></figure>
<p>其他还有一些<a href="http://wiki.commonjs.org/wiki/Modules/1.1">命名规范和识别规范</a></p>
<p>优点：</p>
<ul>
<li>服务器端模块便于重用</li>
<li>NPM 中已经有将近20万个可以使用模块包</li>
<li>简单并容易使用</li>
</ul>
<p>缺点：</p>
<ul>
<li>同步的模块加载方式不适合在浏览器环境中，同步意味着阻塞加载，浏览器资源是异步加载的</li>
<li>不能非阻塞的并行加载多个模块</li>
</ul>
<p>实现：</p>
<ul>
<li>服务器端的 Node.js</li>
<li>Browserify，浏览器端的 CommonJS 实现，可以使用 NPM 的模块，但是编译打包后的文件体积可能很大</li>
<li>modules-webmake，类似Browserify，还不如 Browserify 灵活</li>
<li>wreq，Browserify 的前身</li>
</ul>
<p>CommonJS 最早叫做 ServerJS，Modules 1.0规范在node.js上实践的很好，由于知道自身在浏览器中的不足，CommonJS社区把名字改为CommonJS，意为想统一服务器端和浏览器端，但是要实现浏览器端，就要有新的版本的标准，在新的版本制定过程中，社区出现了分歧，在这个分歧中，分出了AMD规范。由于风格和机制的差异，最终，AMD从CommonJS社区中独立了出来，成为了现在最受欢迎的规范。</p>
<h3 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h3><p>AMD全名为<a href="https://github.com/amdjs/amdjs-api">Asynchronous Module Definition</a>，意思就是“异步模块定义”。从名称上就可以看出，它是通过异步方式加载模块的，模块的加载不影响后续语句的执行，所有依赖加载中的模块的语句，都会放在一个回调函数中，等到该模块加载完成后，这个回调函数才运行。</p>
<p>AMD规范的API非常简单：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">define(id?, dependencies?, factory);</div></pre></td></tr></table></figure>
<p>规范定义了一个define函数，它用来定义一个模块。一共包含三个参数，前两个都是可选的。</p>
<h4 id="id"><a href="#id" class="headerlink" title="id"></a>id</h4><p>一个string字符串，它表示模块的标识（也就是模块的路径，通过id才能知道从什么位置去加载依赖的模块）</p>
<h4 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h4><p>一个数组，成员是依赖模块的<code>id</code></p>
<h4 id="factory"><a href="#factory" class="headerlink" title="factory"></a>factory</h4><p>一个回调函数，在依赖的模块加载成功后，会执行这个回调函数，它的参数是所有依赖模块的引用，如果回调函数有返回值，会导出出来.</p>
<p>一个完整的模块定义包含模块名称，模块的依赖和回调函数，比如下面的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">"adder"</span>, [<span class="string">"math"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">math</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        addTen : <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> math.add(x, <span class="number">10</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>如果这个模块并没有依赖，那么默认的依赖是[“require”, “exports”, “module”]，这时模块可以改写为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">"adder"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">require, exports</span>) </span>&#123;</div><div class="line">    exports.addTen = <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> x + <span class="number">10</span>;</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>如果省略第一个参数，则会定义一个匿名模块，如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">"math"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">math</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        addTen : <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> math.add(x, <span class="number">10</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>更多的用法可以参考<a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD规范</a>或者<a href="https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88">AMD规范(中文版)</a></p>
<p>优点：</p>
<ul>
<li>适合在浏览器环境中异步加载模块</li>
<li>可以并行加载多个模块</li>
</ul>
<p>缺点：</p>
<ul>
<li>提高了开发成本，代码的阅读和书写比较困难，模块定义方式的语义不顺畅</li>
<li>不符合通用的模块化思维方式，是一种妥协的实现</li>
</ul>
<p>实现：</p>
<ul>
<li>RequireJS</li>
<li>curl</li>
</ul>
<h3 id="ES6模块"><a href="#ES6模块" class="headerlink" title="ES6模块"></a>ES6模块</h3><p>最后还要提一下模块系统里的ES6模块。EcmaScript6 标准增加了 JavaScript 语言层面的模块体系定义。ES6 模块的设计思想，是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS 和 AMD 模块，都只能在运行时确定这些东西。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"jquery"</span>;</div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">doStuff</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="built_in">module</span> <span class="string">"localModule"</span> &#123;&#125;</div></pre></td></tr></table></figure>
<p>优点：</p>
<ul>
<li>容易进行静态分析</li>
<li>面向未来的 EcmaScript 标准</li>
</ul>
<p>缺点：</p>
<ul>
<li>原生浏览器端还没有实现该标准</li>
<li>全新的命令字，新版的 Node.js才支持</li>
</ul>
<p>实现：</p>
<ul>
<li>Babel</li>
</ul>
<p>上面扯了这么多，看似好像跟Webpack没啥关系，但是因为我在学习Webpack之前并没有接触过类似的模块加载器，因此对于这些概念性和规范性的内容还是头疼了一阵子，所以在这里把我学习时搜集的资料整理在这，也便于大家学习的时候能够更加容易理解。下面开始进入正题</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>在安装<code>Webpack</code>之前首先要安装<code>Node.js</code>， <code>Node.js</code>自带了软件包管理工具<code>npm</code>，<code>Webpack</code>需要<code>Node.js</code> v0.6以上支持，建议安装最新版。</p>
<p>用<code>npm</code>安装<code>Webpack</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install Webpack -g</div></pre></td></tr></table></figure>
<p>如果你忍受不了被”墙”后的安装速度，那么可以更换为淘宝的NPM镜像源，具体方法见<a href="https://npm.taobao.org/">这里</a></p>
<p>执行完毕后<code>Webpack</code>就成功的安装到全局环境下了，这时可以通过命令行<code>webpack -h</code>来查看webpack的用法。</p>
<p>除了全局安装以外，通常我们会将<code>Webpack</code>安装到项目的依赖中，这样就可以使用本地项目版的<code>Webpack</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 首先进入项目的根目录</span></div><div class="line"><span class="comment"># 如果项目没有被初始化，则通过npm init创建</span></div><div class="line"><span class="comment"># 安装Webpack</span></div><div class="line">$ npm install webpack --save-dev</div></pre></td></tr></table></figure>
<p>如果想要查看<code>Webpack</code>的所有版本信息，可以通过下面的命令来查看</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm info webpack</div></pre></td></tr></table></figure>
<p>如果想要安装指定版本的<code>Webpack</code>，执行下面的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&amp; npm install webpack@x.x.x --save-dev</div></pre></td></tr></table></figure>
<p>最后还要安装一个小工具<a href="https://webpack.github.io/docs/webpack-dev-server.html">webpack-dev-server</a>, <code>webpack-dev-server</code>简单来说就是一个小型的静态文件服务器，可以为<code>webpack</code>打包生成的资源文件提供Web服务，具体的用法可以参考<a href="https://webpack.github.io/docs/webpack-dev-server.html">这里</a>。</p>
<p>依旧通过npm来安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install webpack-dev-server --save-dev</div></pre></td></tr></table></figure>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><blockquote>
<p>Webpack的使用主要通过命令行的方式来实现，所有的命令都可以通过<code>webpack -h</code>命令来查询。既然Webpack是一个给我们带来方便的工具，如果所有的执行步骤还需要我们一次又一次的手动去输入，那这个工具肯定早就被大家唾弃了，因此在项目中，我们一般会将这些命令通过配置一个名为<code>webpack.config.js</code>的配置文件来简化我们的工作量，关于配置文件的用法后面会专门讲解。</p>
</blockquote>
<p>项目目录结构和文件内容如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┗━ entry.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World!&lt;/h1&gt;'</span>);</div></pre></td></tr></table></figure>
<p>然后编译 entry.js 并打包到 bundle.js:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack entry.js bundle.js</div></pre></td></tr></table></figure>
<p>打包过程会显示日志：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Hash: 9a9118b08508bca5fd2c</div><div class="line">Version: webpack 1.13.1</div><div class="line">Time: 54ms</div><div class="line">    Asset     Size  Chunks             Chunk Names</div><div class="line">bundle.js  1.43 kB       0  [emitted]  main</div><div class="line">   [0] ./entry.js 41 bytes &#123;0&#125; [built]</div></pre></td></tr></table></figure>
<p>用浏览器打开 <code>index.html</code>将会看到<code>Hello World!</code>字样</p>
<p>接下来添加一个模块module.js并修改入口entry.js，修改后的项目结构以及文件内代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ module.js</div><div class="line">┗━ entry.js</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// module.js</span></div><div class="line"><span class="built_in">module</span>.exports = <span class="string">'&lt;h2&gt;Hello Webpack!&lt;/h2&gt;'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World!&lt;/h1&gt;'</span>);</div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">require</span>(<span class="string">'./module.js'</span>)); <span class="comment">// 添加模块</span></div></pre></td></tr></table></figure>
<p>重新执行打包命令<code>webpack entry.js bundle.js</code>，执行成功后刷新<code>index.html</code>页面，此时会看到页面上多出了<code>Hello Webpack!</code></p>
<h2 id="Loader-1"><a href="#Loader-1" class="headerlink" title="Loader"></a>Loader</h2><p>Webpack 本身只能处理 JavaScript 模块，如果要处理其他类型的文件，就需要使用 loader 进行转换。</p>
<p>Loader 可以理解为是模块和资源的转换器，它本身是一个函数，接受源文件作为参数，返回转换的结果。这样，我们就可以通过 require 来加载任何类型的模块或文件，比如 CoffeeScript、 JSX、 LESS 或图片。一般通过<code>npm</code>来管理Loader，通常Loader以<code>xxx-loader</code>的方式命名，<code>xxx</code>代表了这个Loader要做的转换功能，比如<code>css-loader</code>。</p>
<p>在引用Loader的时候可以使用全名<code>css-loader</code>，或者使用短名<code>css</code>。</p>
<p>Loader 可以在 <code>require()</code> 引用模块的时候添加，也可以在 webpack 全局配置中进行绑定，还可以通过命令行的方式使用。</p>
<p>接上面的例子，现在我们再来引入一个CSS文件<code>layout.css</code>，首页将<code>layout.css</code>看成是一个模块，通过<code>css-loader</code>读取它，再通过<code>style-loader</code>把它插入到页面中。</p>
<p>项目结构以及文件内代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ layout.css</div><div class="line">┣━ module.js</div><div class="line">┗━ entry.js</div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* layout.css */</span></div><div class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">background</span>: yellow; &#125;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="built_in">require</span>(<span class="string">"!style!css!./layout.css"</span>); <span class="comment">// 载入 layout.css</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World!&lt;/h1&gt;'</span>);</div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">require</span>(<span class="string">'./module.js'</span>));</div></pre></td></tr></table></figure>
<p>修改好后，我们需要安装使用到的Loader</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install css-loader style-loader --save-dev</div></pre></td></tr></table></figure>
<p>重新编译打包，刷新页面后，就能看到黄灿灿的背景色了</p>
<p>想要查询完整的Loader列表，可以在<a href="https://webpack.github.io/docs/list-of-loaders.html">官方文档</a>里查询</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>前面几个小例子虽然简单，不过一遍又一遍的输入冗长的编译打包命令，相信一定是件让人抓狂的事，还记得前面提到的配置文件吗，现在我们就通过它来简化我们的工作量。</p>
<blockquote>
<p>Webpack 在执行的时候，除了在命令行传入参数，还可以通过指定的配置文件来执行。默认情况下，会搜索当前目录的 webpack.config.js 文件，这个文件是一个 node.js 模块，返回一个 json 格式的配置信息对象，或者通过 –config 选项来指定配置文件。例如：<code>webpack --config example.config.js</code></p>
</blockquote>
<p>继续接上面的例子，在根目录创建<code>package.json</code>来添加Webpack需要的依赖:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"App"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="string">"description"</span>: <span class="string">"A simple webpack example."</span>,</div><div class="line">  <span class="string">"main"</span>: <span class="string">"bundle.js"</span>,</div><div class="line">  <span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"keywords"</span>: [</div><div class="line">    <span class="string">"webpack"</span></div><div class="line">  ],</div><div class="line">  <span class="string">"author"</span>: <span class="string">"Kevin Lee"</span>,</div><div class="line">  <span class="string">"license"</span>: <span class="string">"MIT"</span>,</div><div class="line">  <span class="string">"devDependencies"</span>: &#123;</div><div class="line">    <span class="string">"css-loader"</span>: <span class="string">"^0.23.1"</span>,</div><div class="line">    <span class="string">"style-loader"</span>: <span class="string">"^0.13.1"</span>,</div><div class="line">    <span class="string">"webpack"</span>: <span class="string">"^1.13.1"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>创建之后运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install</div></pre></td></tr></table></figure>
<blockquote>
<p>当然，对于一个新项目，你也可以先通过<code>npm init -y</code>来生成默认的<code>package.json</code>文件，之后再通过<code>npm install xxx --save-dev</code>来安装所需要的模块，安装后，<code>package.json</code>文件中会自动添加新安装的依赖模块。</p>
</blockquote>
<p>接着，来创建一个<code>webpack.config.js</code>文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./entry.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    path: __dirname,</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders: [</div><div class="line">      &#123;test: <span class="regexp">/\.css$/</span>, loader: <span class="string">'style!css'</span>&#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>接着我们去简化<code>entry.js</code>中的<code>layout.css</code>加载方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">"./layout.css"</span>);</div></pre></td></tr></table></figure>
<p>修改完毕之后，我们可以先手动删除之前生成好的bundle.js文件，接着运行命令，成功后同样能看到黄色背景的页面</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack</div></pre></td></tr></table></figure>
<p>这时候肯定又有人觉得麻烦了，难道我每次改动之后都要重新打包一次才可以看到修改后的状态吗？其实我们只需要在打包命令后加一个<code>--watch</code>或<code>-w</code>参数就可以实现实时变化啦</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack -w</div></pre></td></tr></table></figure>
<p>执行完上面的命令后，在你做过新的改动后，只需要刷新页面就可以看到改动后的变化了。</p>
<p>另外也可以在<code>webpack.config.js</code>配置文件中通过添加<code>watch: true</code>的配置来实现上面的效果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./entry.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  watch: <span class="literal">true</span>,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders: [</div><div class="line">      &#123;test: <span class="regexp">/\.css$/</span>, loader: <span class="string">'style!css'</span>&#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p>插件可以完成更多 loader 不能完成的功能。</p>
<p>插件的使用一般是在 webpack 的配置信息<code>plugins</code>选项中指定。</p>
<p>Webpack 本身内置了一些常用的插件，还可以通过 npm 安装第三方插件。</p>
<p>接下来，我们利用一个最简单的 BannerPlugin 内置插件来实践插件的配置和运行，这个插件的作用是给输出的文件头部添加注释信息。</p>
<p>修改 <code>webpack.config.js</code>，添加 plugins：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./entry.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    path: __dirname,</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders: [</div><div class="line">      &#123;test: <span class="regexp">/\.css$/</span>, loader: <span class="string">'style!css'</span>&#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">'This file is created by Kevin'</span>)</div><div class="line">  ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>然后运行 webpack，打开 <code>bundle.js</code>，可以看到文件头部出现了我们指定的注释信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*! This file is created by Kevin */</span></div><div class="line"><span class="comment">/******/</span> (<span class="function"><span class="keyword">function</span>(<span class="params">modules</span>) </span>&#123; <span class="comment">// webpackBootstrap</span></div><div class="line"><span class="comment">/******/</span> 	<span class="comment">// The module cache</span></div><div class="line"><span class="comment">/******/</span> 	<span class="keyword">var</span> installedModules = &#123;&#125;;</div><div class="line"><span class="comment">// 以下代码省略。。。</span></div></pre></td></tr></table></figure>
<h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><p>还记得我们前面提到的<code>webpack-dev-server</code>吗，说了这么多，好像一直也没用到它，这里我们来看看它到底能帮我们干什么</p>
<p>当我们的项目变得越来越大的时候，webpack 的编译时间会变长，此时可以通过参数让编译的输出内容带有进度和颜色。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack --progress --colors</div></pre></td></tr></table></figure>
<p>如果不想每次修改模块后都重新编译，那么可以启动上面我们提到的监听模式。开启监听模式后，没有变化的模块会在编译后缓存到内存中，而不会每次都被重新编译，所以监听模式的整体速度是很快的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack --progress --colors -w</div></pre></td></tr></table></figure>
<p>现在，<code>webpack-dev-server</code>给我们提供了另一种更好的选择。它将在 localhost:8080 启动一个 express 静态资源 web 服务器，并且会以监听模式自动运行 webpack，在浏览器打开 <a href="http://localhost:8080/">http://localhost:8080/</a> 或 <a href="http://localhost:8080/webpack-dev-server/">http://localhost:8080/webpack-dev-server/</a> 可以浏览项目中的页面和编译后的资源输出，并且通过一个 socket.io 服务实时监听它们的变化并自动刷新页面。</p>
<blockquote>
<p>有些人可能输入<code>http://localhost:8080/</code>后并不能正确显示页面</p>
<p><img src="http://7xlt2a.com1.z0.glb.clouddn.com/blog/noDataReceived.png" alt="noDataReceived"></p>
<p>如果这时你在地址栏里输入<code>http://127.0.0.1:8080/</code>可以正常访问的话，那么解决这个问题的办法是打开你的hosts文件，删除<code>::1 localhost</code>这一行，具体可以参考<a href="https://github.com/webpack/webpack-dev-server/issues/183">这里</a></p>
</blockquote>
<p>以上是Webpack的理论知识部分，如果你想通过一些例子来巩固和练习，可以到<a href="http://blog.runningcoder.me/webpack-demos.html">这里</a>来看看</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://webpack.github.io/docs">https://webpack.github.io/docs</a></li>
<li><a href="https://zy108830.gitbooks.io/webpack-doc/content/optimization.html">https://zy108830.gitbooks.io/webpack-doc/content/optimization.html</a></li>
<li><a href="http://zhaoda.net/webpack-handbook/amd.html">http://zhaoda.net/webpack-handbook/amd.html</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Webpack Demos实战]]></title>
      <url>http://blog.runningcoder.me/webpack-demos.html</url>
      <content type="html"><![CDATA[<p>之前的<a href="http://blog.runningcoder.me/learn-webpack.html">文章</a>介绍了Wepback的理论和方法，看了那么多文字性的东西，估计脑袋早就看大了。俗话说“光说不练嘴把式”，如果你上面的理论性知识觉得基本都吸收了，那我们就一起来通过下面这些demos来实践一下吧。</p>
<p>目前这些Demos全部来源于阮一峰老师的github，源地址在<a href="https://github.com/ruanyf/webpack-demos">这里</a>，后续我还会再找一些例子添加进来让这个更加全面。</p>
<a id="more"></a>
<h3 id="Demo1-入口文件"><a href="#Demo1-入口文件" class="headerlink" title="Demo1 入口文件"></a>Demo1 入口文件</h3><p>入口文件是webpack用来打包成目标文件的源文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World&lt;/h1&gt;'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>启动静态服务器，访问<a href="http://localhost:8080">http://localhost:8080</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack-dev-server</div></pre></td></tr></table></figure>
<h3 id="Demo2-多个入口文件"><a href="#Demo2-多个入口文件" class="headerlink" title="Demo2 多个入口文件"></a>Demo2 多个入口文件</h3><p>Webpack允许有多个入口文件同时存在，这对于多页应用来说非常有用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main1.js</div><div class="line">┣━ main2.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main1.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World&lt;/h1&gt;'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main2.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h2&gt;Hello Webpack&lt;/h2&gt;'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: &#123;</div><div class="line">    bundle1: <span class="string">'./main1.js'</span>,</div><div class="line">    bundle2: <span class="string">'./main2.js'</span></div><div class="line">  &#125;,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'[name].js'</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="Demo3-Babel-loader"><a href="#Demo3-Babel-loader" class="headerlink" title="Demo3 Babel-loader"></a>Demo3 Babel-loader</h3><p>前面已经讲过Loader的用途了，这里用一个例子来展示如何通过<code>babel-loader</code>将ES6/JSX文件转换为JS文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.jsx</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.jsx</span></div><div class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">const</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'#wrapper'</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.jsx'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders:[</div><div class="line">      &#123;</div><div class="line">        test: <span class="regexp">/\.js[x]?$/</span>,</div><div class="line">        exclude: <span class="regexp">/node_modules/</span>,</div><div class="line">        loader: <span class="string">'babel-loader?presets[]=es2015&amp;presets[]=react'</span></div><div class="line">      &#125;,</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>在<code>webpack.config.js</code>中，<code>module.loaders</code>区域里被用来指派加载器(Loader)。上面的代码中<code>babel-loader</code>需要通过<a href="https://www.npmjs.com/package/babel-preset-es2015">babel-preset-es2015</a>和<a href="https://www.npmjs.com/package/babel-preset-react">babel-preset-react</a>来转换ES6和React.你也可以通过另一种方式来配置babel的查询项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">module: &#123;</div><div class="line">  loaders: [</div><div class="line">    &#123;</div><div class="line">      test: /\.jsx?$/,</div><div class="line">      exclude: /node_modules/,</div><div class="line">      loader: &apos;babel&apos;,</div><div class="line">      query: &#123;</div><div class="line">        presets: [&apos;es2015&apos;, &apos;react&apos;]</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Demo4-CSS-loader"><a href="#Demo4-CSS-loader" class="headerlink" title="Demo4 CSS-loader"></a>Demo4 CSS-loader</h3><p>webpack允许在JS文件中加载CSS，通过CSS-loader来将样式添加到页面中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.js</div><div class="line">┣━ app.css</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: blue;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'./app.css'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders:[</div><div class="line">      &#123; test: <span class="regexp">/\.css$/</span>, loader: <span class="string">'style-loader!css-loader'</span> &#125;,</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>这里要注意，你必须要用2个Loader来对CSS文件进行转换。首先<a href="https://www.npmjs.com/package/css-loader">CSS-loader</a>读取CSS文件，接着<a href="https://www.npmjs.com/package/style-loader">Style-loader</a>把读取的样式插入页面中的<code>&lt;style&gt;</code>标签中。</p>
<p>不同的Loader通过<code>!</code>来进行连接</p>
<p>在启动服务器后，你会在<code>index.html</code>文件中发现内联CSS样式表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></div><div class="line">    <span class="selector-tag">body</span> &#123;</div><div class="line">      <span class="attribute">background-color</span>: blue;</div><div class="line">    &#125;</div><div class="line">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Demo5-Image-loader"><a href="#Demo5-Image-loader" class="headerlink" title="Demo5 Image loader"></a>Demo5 Image loader</h3><p>Webpack同样也可以在JS文件中加载图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.js</div><div class="line">┣━ big.png</div><div class="line">┣━ small.png</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="keyword">var</span> img1 = <span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</div><div class="line">img1.src = <span class="built_in">require</span>(<span class="string">"./small.png"</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(img1);</div><div class="line"></div><div class="line"><span class="keyword">var</span> img2 = <span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</div><div class="line">img2.src = <span class="built_in">require</span>(<span class="string">"./big.png"</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(img2);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders:[</div><div class="line">      &#123; test: <span class="regexp">/\.(png|jpg)$/</span>, loader: <span class="string">'url-loader?limit=8192'</span> &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><a href="https://www.npmjs.com/package/url-loader">url-loader</a>用来转换图片文件。如果图片大小小于8192字节，那么图片将被转变为Data URL；否则将被转变为正常的URL。从上面的例子可以看到，<code>?</code>在这里被用来给Loader传递参数</p>
<p>在启动服务器后<code>small.png</code>和<code>big.png</code>将变成如下形式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"data:image/png;base64,iVBOR...uQmCC"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"4853ca667a2b8b8844eb2693ac1b2578.png"</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Demo6-CSS模块"><a href="#Demo6-CSS模块" class="headerlink" title="Demo6 CSS模块"></a>Demo6 CSS模块</h3><p>我们可以通过添加参数来启用CSS Module<code>css-loader?modules</code>，开启CSS Module后意味着默认情况下作用域都是局部的，相当于给每个class名外加了一个<code>:local()</code>，如果想切换到全局模式，则需要在class名外添加<code>:global()</code>。更多内容可以参考<a href="https://github.com/css-modules/css-modules">这里</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ app.css</div><div class="line">┣━ main.jsx</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"h1"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"h2"</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* app.css */</span></div><div class="line"><span class="selector-class">.h1</span> &#123;</div><div class="line">  <span class="attribute">color</span>:red;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-pseudo">:global(.h2)</span> &#123;</div><div class="line">  <span class="attribute">color</span>: blue;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.jsx</span></div><div class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">var</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"><span class="keyword">var</span> style = <span class="built_in">require</span>(<span class="string">'./app.css'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&#123;style.h1&#125;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">"h2"</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.jsx'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders:[</div><div class="line">      &#123;</div><div class="line">        test: <span class="regexp">/\.js[x]?$/</span>,</div><div class="line">        exclude: <span class="regexp">/node_modules/</span>,</div><div class="line">        loader: <span class="string">'babel-loader'</span>,</div><div class="line">        query: &#123;</div><div class="line">          presets: [<span class="string">'es2015'</span>, <span class="string">'react'</span>]</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        test: <span class="regexp">/\.css$/</span>,</div><div class="line">        loader: <span class="string">'style-loader!css-loader?modules'</span></div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>启动静态服务器后，打开index页面，你会发现只有第二个<code>h1</code>标签是红色的，因为它的CSS样式是局部生效，但是所有<code>h2</code>标签都是蓝色的，因为它的CSS样式是全局生效</p>
<h3 id="Demo7-UglifyJs插件"><a href="#Demo7-UglifyJs插件" class="headerlink" title="Demo7 UglifyJs插件"></a>Demo7 UglifyJs插件</h3><p>Webpack自己的插件系统可以用来扩展自身的功能，完成一些Loader无法完成的功能，比如这个<a href="https://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin">UglifyJs</a>插件就可以用来压缩JS代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="keyword">var</span> longVariableName = <span class="string">'Hello'</span>;</div><div class="line">longVariableName += <span class="string">' World'</span>;</div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;'</span> + longVariableName + <span class="string">'&lt;/h1&gt;'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> uglifyJsPlugin = webpack.optimize.UglifyJsPlugin;</div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> uglifyJsPlugin(&#123;</div><div class="line">      compress: &#123;</div><div class="line">        warnings: <span class="literal">false</span></div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>在启动服务器后，会看到<code>main.js</code>被压缩成如下内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> o=<span class="string">"Hello"</span>;o+=<span class="string">" World"</span>,<span class="built_in">document</span>.write(<span class="string">"&lt;h1&gt;"</span>+o+<span class="string">"&lt;/h1&gt;"</span>)</div></pre></td></tr></table></figure>
<h3 id="Demo8-HTML-Webpack-Plugin-和-Open-Browser-Webpack-Plugin"><a href="#Demo8-HTML-Webpack-Plugin-和-Open-Browser-Webpack-Plugin" class="headerlink" title="Demo8 HTML Webpack Plugin 和 Open Browser Webpack Plugin"></a>Demo8 HTML Webpack Plugin 和 Open Browser Webpack Plugin</h3><p>这个Demo用来展示如何加载第三方插件</p>
<p><a href="https://github.com/ampedandwired/html-webpack-plugin">html-webpack-plugin</a>插件可以帮助你创建<code>index.html</code> ，<a href="https://github.com/baldore/open-browser-webpack-plugin">open-browser-webpack-plugin</a>可以在Webpack加载的时候打开一个新的浏览器标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World&lt;/h1&gt;'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> HtmlwebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> OpenBrowserPlugin = <span class="built_in">require</span>(<span class="string">'open-browser-webpack-plugin'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> HtmlwebpackPlugin(&#123;</div><div class="line">      title: <span class="string">'Webpack-demos'</span>,</div><div class="line">      filename: <span class="string">'index.html'</span></div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> OpenBrowserPlugin(&#123;</div><div class="line">      url: <span class="string">'http://localhost:8080'</span></div><div class="line">    &#125;)</div><div class="line">  ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>运行服务器，此时可以看到，虽然我们并没有创建<code>index.html</code>文件，但是插件会自动帮我们生成这个文件并且在浏览器中打开。</p>
<h3 id="Demo9-环境变量"><a href="#Demo9-环境变量" class="headerlink" title="Demo9 环境变量"></a>Demo9 环境变量</h3><p>你可以通过环境变量让部分代码仅仅在开发环境中生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;Hello World&lt;/h1&gt;'</span>);</div><div class="line"></div><div class="line"><span class="keyword">if</span> (__DEV__) &#123;</div><div class="line">  <span class="built_in">document</span>.write(<span class="keyword">new</span> <span class="built_in">Date</span>());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> devFlagPlugin = <span class="keyword">new</span> webpack.DefinePlugin(&#123;</div><div class="line">  __DEV__: <span class="built_in">JSON</span>.stringify(<span class="built_in">JSON</span>.parse(process.env.DEBUG || <span class="string">'false'</span>))</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  plugins: [devFlagPlugin]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>传递环境变量给Webpack</p>
<p>Linux &amp; Mac<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ env DEBUG=true webpack-dev-server</div></pre></td></tr></table></figure></p>
<p>Windows<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ set DEBUG=true</div><div class="line">$ webpack-dev-server</div></pre></td></tr></table></figure></p>
<h3 id="Demo10-代码拆分"><a href="#Demo10-代码拆分" class="headerlink" title="Demo10 代码拆分"></a>Demo10 代码拆分</h3><p>在大型的Web app中，把所有代码都放到一个文件里去加载是非常低效的，Webpack允许你把他们拆分成代码块，并且通过懒加载的形式处理他们</p>
<p>首先，你需要通过<code>require.ensure</code>来定义一个分割点(<a href="https://webpack.github.io/docs/code-splitting.html">参考</a>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ a.js</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="built_in">require</span>.ensure([<span class="string">'./a'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">require</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> content = <span class="built_in">require</span>(<span class="string">'./a'</span>);</div><div class="line">  <span class="built_in">document</span>.open();</div><div class="line">  <span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;'</span> + content + <span class="string">'&lt;/h1&gt;'</span>);</div><div class="line">  <span class="built_in">document</span>.close();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><code>require.ensure</code>告诉Webpack<code>./a.js</code>应当从<code>bundle.js</code>中分离出来单独编译一个文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// a.js</span></div><div class="line"><span class="built_in">module</span>.exports = <span class="string">'Hello World'</span>;</div></pre></td></tr></table></figure>
<p>现在Webpack会留意dependencies，output和runtime stuff。你不需要把这些多余的内容放进你的<code>index.html</code>和<code>webpack.config.js</code>中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>运行服务器后你会发现跟平常好像没什么两样，但实际上，Webpack会把<code>main.js</code>和<code>a.js</code>分别编译到2个不同的文件中（<code>bundle.js</code>和<code>1.bundle.js</code>），而且<code>1.bundle.js</code>中的代码块仅仅是在<code>bundle.js</code>文件中需要用到的时候才会加载。</p>
<h3 id="Demo11-通过bundle-loader来拆分代码"><a href="#Demo11-通过bundle-loader来拆分代码" class="headerlink" title="Demo11 通过bundle-loader来拆分代码"></a>Demo11 通过<strong>bundle-loader</strong>来拆分代码</h3><p>另一种拆分代码的方式是通过<a href="https://www.npmjs.com/package/bundle-loader">bundle-loader</a>来实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ a.js</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="comment">// a.js被请求加载，它将会被编译到另一个文件中</span></div><div class="line"><span class="keyword">var</span> load = <span class="built_in">require</span>(<span class="string">'bundle-loader!./a.js'</span>);</div><div class="line"></div><div class="line"><span class="comment">// 直到a.js被成功加载</span></div><div class="line"><span class="comment">// 你需要异步等待加载</span></div><div class="line">load(<span class="function"><span class="keyword">function</span>(<span class="params">file</span>) </span>&#123;</div><div class="line">  <span class="built_in">document</span>.open();</div><div class="line">  <span class="built_in">document</span>.write(<span class="string">'&lt;h1&gt;'</span> + file + <span class="string">'&lt;/h1&gt;'</span>);</div><div class="line">  <span class="built_in">document</span>.close();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><code>require(&#39;bundle-loader!./a.js&#39;)</code>告诉Webpack从另一个代码块中加载<code>./a.js</code><br>现在Webpack将把<code>main.js</code>编译成<code>bundle.js</code>，把<code>a.js</code>编译成<code>1.bundle.js</code></p>
<h3 id="Demo12-公共代码块"><a href="#Demo12-公共代码块" class="headerlink" title="Demo12 公共代码块"></a>Demo12 公共代码块</h3><p>当多个脚本文件包含一些相同的代码块时，你可以通过<a href="https://webpack.github.io/docs/list-of-plugins.html#commonschunkplugin">CommonsChunkPlugin</a>把他们提取出来放到一个单独的文件里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main1.jsx</div><div class="line">┣━ main2.jsx</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"a"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"b"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"init.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main1.jsx</span></div><div class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">var</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'a'</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main2.jsx</span></div><div class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">var</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello Webpack<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'b'</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> CommonsChunkPlugin = <span class="built_in">require</span>(<span class="string">"webpack/lib/optimize/CommonsChunkPlugin"</span>);</div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: &#123;</div><div class="line">    bundle1: <span class="string">'./main1.jsx'</span>,</div><div class="line">    bundle2: <span class="string">'./main2.jsx'</span></div><div class="line">  &#125;,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'[name].js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders:[</div><div class="line">      &#123;</div><div class="line">        test: <span class="regexp">/\.js[x]?$/</span>,</div><div class="line">        exclude: <span class="regexp">/node_modules/</span>,</div><div class="line">        loader: <span class="string">'babel-loader'</span>,</div><div class="line">        query: &#123;</div><div class="line">          presets: [<span class="string">'es2015'</span>, <span class="string">'react'</span>]</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> CommonsChunkPlugin(<span class="string">'init.js'</span>)</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Demo13-库函数提取"><a href="#Demo13-库函数提取" class="headerlink" title="Demo13 库函数提取"></a>Demo13 库函数提取</h3><p>你可以用<a href="https://webpack.github.io/docs/list-of-plugins.html#commonschunkplugin">CommonsChunkPlugin</a>把第三方库函数提取到一个单独的文件里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vendor.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);</div><div class="line">$(<span class="string">'h1'</span>).text(<span class="string">'Hello World'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: &#123;</div><div class="line">    app: <span class="string">'./main.js'</span>,</div><div class="line">    vendor: [<span class="string">'jquery'</span>],</div><div class="line">  &#125;,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(<span class="comment">/* chunkName= */</span><span class="string">'vendor'</span>, <span class="comment">/* filename= */</span><span class="string">'vendor.js'</span>)</div><div class="line">  ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>如果你想让某个库函数在每个模块里都能直接启用而不是通过<code>require(&quot;jquery&quot;)</code>来加载，那么你需要通过<a href="">ProvidePlugin</a>这个插件来实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line">$(<span class="string">'h1'</span>).text(<span class="string">'Hello World'</span>);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: &#123;</div><div class="line">    app: <span class="string">'./main.js'</span></div><div class="line">  &#125;,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> webpack.ProvidePlugin(&#123;</div><div class="line">      $: <span class="string">"jquery"</span>,</div><div class="line">      jQuery: <span class="string">"jquery"</span>,</div><div class="line">      <span class="string">"window.jQuery"</span>: <span class="string">"jquery"</span></div><div class="line">    &#125;)</div><div class="line">  ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="Demo14-使用全局变量"><a href="#Demo14-使用全局变量" class="headerlink" title="Demo14 使用全局变量"></a>Demo14 使用全局变量</h3><p>如果你想使用一些全局变量，但又不想让他们被Webpack编译进输出文件里，那么你可以在<code>webpack.config.js</code>里的<code>externals</code>域里来启用这个功能，具体可以参考<a href="https://webpack.github.io/docs/library-and-externals.html">这里</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ main.jsx</div><div class="line">┣━ data.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vendor.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.jsx</span></div><div class="line"><span class="keyword">var</span> data = <span class="built_in">require</span>(<span class="string">'data'</span>);</div><div class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">var</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;data&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.body</div><div class="line">);</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// data.js</span></div><div class="line"><span class="keyword">var</span> data = <span class="string">'Hello World'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./main.jsx'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders:[</div><div class="line">      &#123;</div><div class="line">        test: <span class="regexp">/\.js[x]?$/</span>,</div><div class="line">        exclude: <span class="regexp">/node_modules/</span>,</div><div class="line">        loader: <span class="string">'babel-loader'</span>,</div><div class="line">        query: &#123;</div><div class="line">          presets: [<span class="string">'es2015'</span>, <span class="string">'react'</span>]</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  externals: &#123;</div><div class="line">    <span class="comment">//  从外部请求和实现</span></div><div class="line">    <span class="comment">//  全局变量</span></div><div class="line">    <span class="string">'data'</span>: <span class="string">'data'</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>上面的例子中，有一个<code>data.js</code>文件，我们把<code>data</code>作为全局变量暴漏出来，然后就可以在<code>main.jsx</code>中像模块变量那样去使用它。</p>
<h3 id="Demo15-Hot-Module-Replacement-热插拔"><a href="#Demo15-Hot-Module-Replacement-热插拔" class="headerlink" title="Demo15 Hot Module Replacement(热插拔)"></a>Demo15 Hot Module Replacement(热插拔)</h3><p><a href="https://github.com/webpack/docs/wiki/hot-module-replacement-with-webpack">Hot Module Replacement</a>(HMR)顾名思义，允许你在应用运行期间改变，添加，删除模块并且立即生效</p>
<p>你有两种方式通过<code>webpack-dev-server</code>来启用热插拔功能<br>（1）在命令行后面添加<code>--hot</code>和<code>--inline</code>参数<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack-dev-server --hot --inline</div></pre></td></tr></table></figure></p>
<p>选项含义：</p>
<ul>
<li><code>--hot</code>：添加<a href="https://webpack.github.io/docs/webpack-dev-server.html#hot-module-replacement">Hot Module Replacement</a>并且切换到热插拔模式</li>
<li><code>--inline</code>：自动把webpack-dev-server客户端加到webpack的入口文件配置中</li>
<li><code>--hot --inline</code> 综上</li>
</ul>
<p>（2）修改<code>webpack.config.js</code></p>
<ul>
<li>把<code>new webpack.HotModuleReplacementPlugin()</code>添加到<code>plugins</code></li>
<li>把<code>webpack/hot/dev-server</code>和<code>webpack-dev-server/client?http://localhost:8080</code>添加到<code>entry</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App/</div><div class="line">┣━ index.html</div><div class="line">┣━ index.js</div><div class="line">┣━ app.js</div><div class="line">┗━ webpack.config.js</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">'root'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hot Module Replacement<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// app.js</span></div><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// index.js</span></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span>;</div><div class="line"></div><div class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span>, document.getElementById('root'));</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: [</div><div class="line">    <span class="string">'webpack/hot/dev-server'</span>,</div><div class="line">    <span class="string">'webpack-dev-server/client?http://localhost:8080'</span>,</div><div class="line">    <span class="string">'./index.js'</span></div><div class="line">  ],</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.js'</span>,</div><div class="line">    publicPath: <span class="string">'/static/'</span></div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</div><div class="line">  ],</div><div class="line">  <span class="built_in">module</span>: &#123;</div><div class="line">    loaders: [&#123;</div><div class="line">      test: <span class="regexp">/\.jsx?$/</span>,</div><div class="line">      loaders: [<span class="string">'babel-loader?presets[]=es2015&amp;presets[]=react'</span>],</div><div class="line">      include: path.join(__dirname, <span class="string">'.'</span>)</div><div class="line">    &#125;]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>启动服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ webpack-dev-server</div></pre></td></tr></table></figure>
<p>访问 <a href="http://localhost:8080">http://localhost:8080</a>  ,会在浏览器里看到<code>Hello World</code></p>
<p>这时不要关闭服务器，打开文本编辑器编辑<code>app.js</code>，把”Hello World”改成”Hello Webpack”后保存，这时再去浏览器看看有什么变化。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://github.com/ruanyf/webpack-demos">https://github.com/ruanyf/webpack-demos</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sublime Text 3 主题与实用插件汇总]]></title>
      <url>http://blog.runningcoder.me/themes-and-plugins-for-sublime-text.html</url>
      <content type="html"><![CDATA[<h3 id="Package-control的安装"><a href="#Package-control的安装" class="headerlink" title="Package control的安装"></a>Package control的安装</h3><p>按 <code>ctrl+ ` </code> 或者 通过 <code>View</code> -&gt; <code>Show Consolemenu</code> 呼出sublime text的控制台，粘贴下面的代码到控制台里按回车。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import urllib.request,os,hashlib; h = &apos;2915d1851351e5ee549c20394736b442&apos; + &apos;8bc59f460fa1548d1514676163dafc88&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h)) if dh != h else open(os.path.join( ipp, pf), &apos;wb&apos; ).write(by)</div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="主题："><a href="#主题：" class="headerlink" title="主题："></a>主题：</h3><p><a href="https://github.com/Colorsublime/Colorsublime-Plugin">Colorsublime</a></p>
<p>主题快速更改和浏览插件</p>
<p><a href="https://github.com/jonschlinkert/sublime-monokai-extended">Monokai Extended</a></p>
<p><a href="http://itsthatguy.com/post/70191573560/sublime-text-theme-itg-flat">ITG:Flat</a></p>
<p><a href="https://packagecontrol.io/packages/Predawn">Predawn</a></p>
<p><a href="https://github.com/kenwheeler/brogrammer-theme">brogrammer</a></p>
<h3 id="易用性："><a href="#易用性：" class="headerlink" title="易用性："></a>易用性：</h3><p>HTML5，HTML5标签拓展</p>
<p>Js​Format，javascript格式化</p>
<p>CSS Format，CSS格式化<br>Tag，HTML格式化<br>Brackethighlighter，标签对标记<br>Side​Bar​Enhancements ，增强型侧边栏<br>BufferScroll，代码折叠状态保留<br>StyleToken , 标记颜色代码<br><a href="http://weslly.github.io/ColorPicker/">ColorPicker</a><br>颜色选择器，安装完成后，只要按下Ctrl / Cmd + Shift + C 快捷键。</p>
<h3 id="功能："><a href="#功能：" class="headerlink" title="功能："></a>功能：</h3><p><strong><a href="http://emmet.io/blog/sublime-text-3/">Emmet</a></strong><br>前端神器,安装方法参考 <a href="http://www.jianshu.com/p/ea9eb93182a3">这里</a><br><strong><code>TortoiseSVN</code></strong><br>SVN你懂的<br><code>Quote​HTML</code><br>把HTML拼接成js插入字符串，神器<br><code>Clipboard Manager</code><br>增强型剪贴板，可访问历史剪贴板记录<br><code>FileHeader</code><br>文件模板 , 可自动更新修改时间<br><code>AutoPrefixer</code><br>浏览器私有属性前缀补全 (Node.js依赖)<br><code>ColorConvert</code><br>RGBA颜色转换，十六进制颜色转换为RGBA颜色<br><a href="https://github.com/SublimeCodeIntel/SublimeCodeIntel">SublimeCodeIntel</a><br>全能代码提示<br><code>LiveStyle</code><br>双向更改无刷新实时预览 , 包含chrome插件 Emmet LiveStyle<br><code>SFTP</code><br>需要激活 ，看 <a href="http://mooring.iteye.com/blog/2067269">这里</a></p>
<h3 id="其他："><a href="#其他：" class="headerlink" title="其他："></a>其他：</h3><p><code>ConvertToUTF8</code></p>
<p>GBK编码兼容</p>
<p><code>IMESupport</code></p>
<p>输入法不跟随时安装</p>
<p><code>TrailingSpaces</code></p>
<p>多余空格标记，强迫症患者福音</p>
<p><code>Hasher</code></p>
<p>符号转义，ctrl+shift+p 选择 Entity Encode</p>
<p><code>PackageResourceViewer</code></p>
<p>插件修改必备，ctrl+shift+p 调用 Open Resource</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Sublime text 设置]]></title>
      <url>http://blog.runningcoder.me/setup-sublime-text.html</url>
      <content type="html"><![CDATA[<h2 id="基础用户设置"><a href="#基础用户设置" class="headerlink" title="基础用户设置"></a>基础用户设置</h2><p>工具栏 Preferences – Settings-User 进入用户设置：</p>
<h3 id="设置代码"><a href="#设置代码" class="headerlink" title="设置代码"></a>设置代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&quot;trim_trailing_white_space_on_save&quot;  : true,</div><div class="line">&quot;ensure_newline_at_eof_on_save&quot;      : true,</div><div class="line">&quot;font_face&quot;                          : &quot;Microsoft YaHei Mono&quot;,</div><div class="line">&quot;disable_tab_abbreviations&quot;          : true,</div><div class="line">&quot;translate_tabs_to_spaces&quot;           : true,</div><div class="line">&quot;tab_size&quot;                           : 2,</div><div class="line">&quot;draw_minimap_border&quot;                : true,</div><div class="line">&quot;save_on_focus_lost&quot;                 : true,</div><div class="line">&quot;highlight_line&quot;                     : true,</div><div class="line">&quot;word_wrap&quot;                          : &quot;true&quot;,</div><div class="line">&quot;fade_fold_buttons&quot;                  : false,</div><div class="line">&quot;bold_folder_labels&quot;                 : true,</div><div class="line">&quot;highlight_modified_tabs&quot;            : true,</div><div class="line">&quot;default_line_ending&quot;                : &quot;unix&quot;,</div><div class="line">&quot;auto_find_in_selection&quot;             : true</div></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="解释说明"><a href="#解释说明" class="headerlink" title="解释说明"></a>解释说明</h3><p><strong><code>trim_trailing_white_space_on_save</code></strong></p>
<p>自动移除行尾多余空格，处女座更安心了。</p>
<p><strong><code>ensure_newline_at_eof_on_save</code></strong></p>
<p>文件末尾自动保留一个空行，懂的人自然知道它的用处。</p>
<p><strong><code>font_face</code></strong></p>
<p>设置字体。Microsoft YaHei Mono 是一款混合字体，专为代码优化，看起来很舒服。当然你也可以使用你自己喜欢的字体，或者删掉本行，使用默认字体。</p>
<p><strong><code>disable_tab_abbreviations</code></strong></p>
<p>设置为 <code>true</code> ，禁用 Emmet 的 tab 键功能（请使用 ctrl+e），系统自带的 tab 功能还是可圈可点的。当然你也可以不设置它，以完全使用 Emmet 的 tab 补全功能。</p>
<p><strong><code>translate_tabs_to_spaces</code></strong></p>
<p>很明白就是把代码 tab 对齐转换为空格对齐，tab_size 配合设置空格数。这个需求因人而异了，不喜欢可以去掉。</p>
<p><strong><code>draw_minimap_border</code></strong></p>
<p>用于右侧代码预览时给所在区域加上边框，方便识别。</p>
<p><strong><code>save_on_focus_lost</code></strong></p>
<p>窗口失焦立即保存文件，嘛嘛再也不用担心你忘记保存了。</p>
<p><strong><code>highlight_line</code></strong></p>
<p>当前行高亮。</p>
<p><strong><code>word_wrap</code></strong></p>
<p>设置自动换行。</p>
<p><strong><code>fade_fold_buttons</code></strong></p>
<p>默认显示行号右侧的代码段闭合展开三角号。</p>
<p><strong><code>bold_folder_labels</code></strong></p>
<p>侧边栏文件夹显示加粗，区别于文件。</p>
<p><strong><code>highlight_modified_tabs</code></strong></p>
<p>高亮未保存文件。</p>
<p><strong><code>default_line_ending: “unix”</code></strong></p>
<p> 使用 unix 风格的换行符。</p>
<p><strong><code>auto_find_in_selection: true</code></strong></p>
<p>开启选中范围内搜索（而不是整个文档）</p>
<h2 id="默认快捷键设置"><a href="#默认快捷键设置" class="headerlink" title="默认快捷键设置"></a>默认快捷键设置</h2><p>工具栏 Preferences – key Bindings-User 进入用户快捷键设置</p>
<h3 id="设置代码-1"><a href="#设置代码-1" class="headerlink" title="设置代码"></a>设置代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123; &quot;keys&quot;: [&quot;alt+space&quot;], &quot;command&quot;: &quot;auto_complete&quot; &#125;,</div><div class="line">&#123; &quot;keys&quot;: [&quot;alt+space&quot;], &quot;command&quot;: &quot;replace_completion_with_auto_complete&quot;, &quot;context&quot;:</div><div class="line">  [</div><div class="line">    &#123; &quot;key&quot;: &quot;last_command&quot;, &quot;operator&quot;: &quot;equal&quot;, &quot;operand&quot;: &quot;insert_best_completion&quot; &#125;,</div><div class="line">    &#123; &quot;key&quot;: &quot;auto_complete_visible&quot;, &quot;operator&quot;: &quot;equal&quot;, &quot;operand&quot;: false &#125;,</div><div class="line">    &#123; &quot;key&quot;: &quot;setting.tab_completion&quot;, &quot;operator&quot;: &quot;equal&quot;, &quot;operand&quot;: true &#125;</div><div class="line">  ]</div><div class="line">&#125;,</div><div class="line">&#123; &quot;keys&quot;: [&quot;ctrl+alt+d&quot;], &quot;command&quot;: &quot;goto_definition&quot; &#125;,</div></pre></td></tr></table></figure>
<p>ST3默认的代码提示快捷键为 <code>ctrl + space</code> ，但是这个快捷键在天朝一直都被输入法霸占( Mac用户泥奏凯 ，修改快捷键为<code>alt+space</code> 。<br>ST3自带跳转到函数或CSS定义功能，在DreamWeaver中使用 <code>ctrl+d</code> 打开CSS样式定义源面板屡试不爽。使用 <code>ctrl+alt+d</code> 定义这个功能，ST3默认的<code>ctrl+d</code>已有选择相同字符的用途。</p>
<p>PS.关于Emmet 及 ST3 的快捷键什么的网上一找一堆，这里举几个个人常用的快捷键：</p>
<p><code>ctrl+shift+sp</code>  所有命令</p>
<p><code>ctrl+g</code> 跳转行</p>
<p><code>ctrl+/</code> 注释</p>
<p><code>ctrl+d</code>选择相同字符</p>
<p><code>ctrl+shift+up/down</code> 整行移动</p>
<p><code>ctrl+alt+right</code> 跳到下一个编辑点</p>
<p><code>ctrl+u</code>图片原始大小更新</p>
<p><code>ctrl+shift+g</code> 批量格式生成</p>
<p><code>ctrl+shift+y</code>直接公式计算</p>
<p><code>ctrl+up</code> CSS数值加减1（<code>alt+up</code> 数值加减0.1）</p>
<p>转自： <a href="http://www.sheyilin.cn/2015/05/sublime_text_3_tiao_jiao_ni_de_si_ren_li_qi_1/">http://www.sheyilin.cn/2015/05/sublime_text_3_tiao_jiao_ni_de_si_ren_li_qi_1/</a></p>
]]></content>
    </entry>
    
  
  
</search>
